{% extends "base.html" %}
{% block title %}Item Information - New Home{% endblock %}
{% block content %}
<head>
    <style>
        .small-image {
            width: 80px;
            height: 80px;
            padding: 10px;
        }
        .item-information {
            float: right;
        }
    </style>
    <script>
        // Enlarges the image when clicked
        function enlargeImage(img) {
            img.style.width = "40%";
            img.style.height = "auto";
            img.style.transition = "width 0.5s ease";
        }
        // Function to handle the request button click
        function requestItem(button) {
            // Toggle button text
            if (button.innerText === "I want this item!") {
                button.innerText = "Item requested! Please wait for uploader to respond";
            }
        }
    </script>
</head>

<div class="item-container">
    {% if image %}
        <!-- Display item images -->
        {% if image.images %}
            {% for img in image.images %}
                <img src="{{ img.src }}" alt="Item Image" class="small-image" onclick="enlargeImage(this)">
            {% endfor %}
        {% else %}
            <!-- Default image if no item images are found -->
            <img src="{{ url_for('static', filename='book.jpg') }}" alt="Default Image" class="small-image" onclick="enlargeImage(this)">
        {% endif %}

        <!-- Display item information -->
        <div class="item-information" id="item-info">
            <h2>Item Information</h2>
            <p><strong>Name:</strong> {{ image.item_name }}</p>
            <p><strong>Description:</strong> {{ image.desc }}</p>
            <!-- Button to request the item -->
            <button id="requestButton" onclick="requestItem(this)">I want this item!</button>
        </div>
    {% else %}
    <h3>Error in loading item</h3>
    <p>No item information available for item ID: {{ itemID }}</p>
    {% endif %}
</div>
{% endblock %}
